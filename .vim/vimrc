" Load pathogen. 
" Needed on some linux distros.
" see http://www.adamlowe.me/2009/12/vim-destroys-all-other-rails-editors.html
filetype off 
call pathogen#runtime_append_all_bundles()
call pathogen#helptags()
" Pathogen init ends

set nocompatible
filetype plugin indent on
colorscheme wombat 
syntax on


set nowrap "disable wrapping 

set hidden "you can change buffers without saving
set expandtab
set tabstop=2
set shiftwidth=2
set bs=2
set number "show numbers
set showcmd "show partial command you are typing
set smarttab
set autoindent

" Allow backspacing over everything in insert mode
set backspace=indent,eol,start

" put all vim's temporary file out of current dir
set backupdir=~/.vim-tmp,~/.tmp,~/tmp,/var/tmp,/tmp
set directory=~/.vim-tmp,~/.tmp,~/tmp,/var/tmp,/tmp

" Keymaps
inoremap jj <ESC> " alternative ESCAPE
nmap <C-n> :cn<CR> " find next occurance after vimgrep
nmap <C-p> :cp<CR> " find previous occurance after vimgrep

if has("gui_running")
  " If the current buffer has never been saved, it will have no name,
  " call the file browser to save it, otherwise just save it.
  :map <silent> <C-S> :if expand("%") == ""<CR>:browse confirm w<CR>:else<CR>:confirm w<CR>:endif<CR>
endif

" set the leader key
let mapleader = ","

" Toggle invisible characters
nmap <silent> ,l :set list!<CR> 

" Close all buffers except current one (via BufOnly.vim)
nmap <silent> ,w :BufOnly<CR>

" Status Line
set statusline=%F%m%r%h%w[%L][%{&ff}]%y[%p%%][%04l,%04v]

" Add statusline support for syntactic plugin
set statusline+=%#warningmsg#
set statusline+=%{SyntasticStatuslineFlag()}
set statusline+=%*

" Toggle the NERDTree
map <silent> <A-1> :NERDTreeToggle<CR> 
" Close NERDTree when opening a file
let g:NERDTreeQuitOnOpen = 1 

" Size of window
let g:NERDTreeWinSize = 40

" Settings for minbufExplorer
let g:miniBufExplMapWindowNavVim = 1
" let g:miniBufExplMapWindowNavArrows = 1
let g:miniBufExplMapCTabSwitchBufs = 1

" Enable syntastic syntax checking
let g:syntastic_enable_signs=1

" For vimdiff
set diffopt=filler
" set diffopt+=iwhite
